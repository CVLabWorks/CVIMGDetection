# Methodology: Detection Model for Images Generated by Diffusion

by 沈闻一

## 中文版

扩散模型的崛起催生了专门的检测方法。以DIRE为例，其核心思想是利用预训练扩散模型对输入图像进行“反转-重建”并计算重建误差。研究表明：扩散模型生成的图像能够被较好地重建，误差较小；而真实图像的重建误差显著更大。然而，该模型和所需数据集规模较大，推理速度较慢。相比之下，轻量级的NPR方法从生成器架构入手，关注上采样操作在生成图像中引入的局部像素强相关性——这种相关性在真实图像中并不存在。NPR通过构建邻域像素关系特征图，训练CNN进行分类。这些针对扩散模型设计的检测器在实践中展现出良好的跨模型泛化能力，并对常见图像扰动不敏感。上述模型都是可行的部署方案，通过参数调整、CNN结构微调等方案，可能能在各类数据集上获得更强的泛化能力。

## 英文版

The rise of diffusion models has spurred the development of specialized detection methods. Taking DIRE as an example, its core idea is to leverage a pre-trained diffusion model to perform "inversion-reconstruction" on input images and compute the reconstruction error. Research reveals that images generated by diffusion models can be well reconstructed with minimal error, while real images exhibit significantly larger reconstruction errors. However, this model requires large datasets and has slow inference speed. In contrast, the lightweight NPR approach starts from the generator architecture, focusing on the strong local pixel correlations introduced by upsampling operations in generated images - correlations absent in real images. NPR constructs feature maps based on neighboring pixel relationships and trains a CNN for classification. These detectors designed for diffusion models demonstrate excellent cross-model generalization capability in practice and remain robust to common image perturbations. Both models represent viable deployment solutions, and through parameter tuning and CNN structure fine-tuning, they may achieve enhanced generalization across diverse datasets.

## 注

扩散重建方法所用的数据集和模型都巨大，400G的数据集让我手足无措(
所以除了扩散重建方法以外，我在方法论里加了NPR方法，它同样在Diffusion生成内容的判断上精度较高，构建特征图的方法很新颖。后面看部署运行的结果再做选择。

